# OOP Basics with C# questions

## .NET Framework

#### What is .NET?

.NET is an open source development platform (languages: C#, F#, VB; + libraries) for building different types of apps. 
Its implementations are .NET Core (Windows, Linux, macOS), .NET Framework (Windows) and Xamarin (mobile) for different platforms.
<br><br>

#### Can you describe the difference between .NET Framework and .NET Core?

Both are used to develop C# (and F#, VB) applications, but .NET Framework has been around longer, 
is maintained by Microsoft and can only be used to develop for Windows. The .NET Core (meanwhile named only ".NET"), 
also developed by Microsoft is a free and open source framework to develop applications for Windows, Linux and macOS.
<br><br>

#### What project types do you know in Visual Studio/Rider?

Class Library, Console Application, Desktop Application, Unit Test Project, ASP.NET Core Web App.
<br><br>

#### What is a solution?

A solution is a container to organize one or more related code projects. A solution contains a project for each build output (dll, exe, msi).
<br><br>

#### What is an assembly?

An assembly is a basic building block of a .NET application. It is a file that is automatically generated by 
the compiler upon successful compilation of every .NET application. It can be a DLL (dynamic link library) or an executable file.
<br><br>

#### What is LINQ in .NET? How does it work?

LINQ stands for Language-Integrated Query which adds native data querying capabilities to .NET languages. 
The operators defined by LINQ are exposed to the user through the Standard Query Operator API. 
The query expressions are similar to SQL statements and can be used to extract and process data from arrays, 
enumerable classes, XML documents, relational databases.
<br><br>

#### What are some commonly used LINQ methods that you know?

Select, Where, SelectMany, Sum, Min, Max, Average, Aggregate, Take, Skip, OfType, Concat, OrderBy, GroupBy, Distinct, Contains, Count.
<br><br>

#### Which .NET class would you use if you need to generate random numbers? Explain its usage briefly.

The System.Random class to generate pseudorandom numbers. An instance of the Random class has to be created, 
then its methods can be used to generate random numbers. Creating an instance of Random should not be done inside a method, 
its especially dangerous within a cycle, because of how the class works. The class uses a seed number in order to 
generate sequences of random numbers. When two instances are generated with the same seed number, the "random" numbers will be the same.
<br><br>

```C#
Random random = new Random();
int myRandomNumber = random.Next(); // Generates signed integer from 0 to Int32 Maxvalue
int myRandomNumberUpToNine = random.Next(10); // Generates integer between 0 and 10 (exclusive)
double myRandomDouble = random.NextDouble(); // Generates floating point number between 0.0 and 1.0 (exclusive)
```
<br>

#### Which .NET classes are used to read and write files in C#?

Classes of the System.IO Namespace, StreamReader and StreamWriter and methods of the File class.
<br><br>

#### Which .NET type is used for working with dates? Describe some of the functions related to this type.

The DateTime class is used to work with dates. Methods include: Add methods (e.g. AddHours or AddDays), 
`.Date` to access the date part, 
`.TimeOfDay` to access the time part, etc.
<br><br>

#### Which .NET class can be used for measuring time?

The Stopwatch class can be used to measure elapsed time. Its `Start` method has to be invoked to start it and 
its `Stop` method to stop it. One of the 'Elapsed' methods is used to get the elapsed time.
<br><br>

#### What is NuGet?

NuGet is a package manager for .NET t ocreate, share and consume useful .NET libraries. It was introduced in 2010 as NuPack.
<br><br>

#### What is the `IEnumerable` interface?

The `IEnumerable` interface allows classes that implement it to use enumeration (iteration) over a collection.
<br><br>

#### What does the term _deferred execution_ mean? How does it relate to `IEnumerable` and LINQ?

In relation to LINQ it means that when assigning a variable using a LINQ query, the query will not be run until the 
value of the variable is actually required. Its implication is that on each subsequent access of the variable, the 
evaluation runs again on the latest data. This is called **lazy evaluation**.
<br><br>

#### Describe some collection types you know.<br>

Array, List, HashSet, Queue, Stack, Dictionary, SortedList, SortedSet, Tuple.<br>
An `Array` is a collection of similar types of data and of fixed size. When creating an array in C#,
the number of items it should contain has to be declared explicitly (by stating the number) or implicitly (by declaring its values).<br>
A `List` is similar to an array, but the length is not fixed, elements can be added to it at will. <br>
A `HashSet` is a collection of unique values. <br>
A `Queue` is a collection, where an item can be added, but can only be removed when previously added elements were removed.

<br>

#### Why does the `System.String` type implement the `IEnumerable` interface? What are the advantages of this? <br>

The `System.String` type implements `IEnumerable` because in the background System.String is a `char[]`.
The advantages are that individual characters of a string can be accessed more easily and the string is iterable.
<br>


## Language features

#### What control statements are available in C#?

It's possible to create labels and use the `goto` keyword to jump to specific labels.<br>
Calling a subroutine (function, method) can also be counted as a control statement together with its `return` keyword.<br>
Conditional statements are widely used, they include `if-then-else` statement, which can be written with the ternary operator also.<br>
If there are a high number of cases, the `switch-case` statement allows to write compact code.<br>
A loop is yet and other of control statement, including `for`, `while`, `foreach` loops.<br>
It is possible to exit a loop early with `break` command or to skip parts of code in the loop with the `continue` command.
<br><br>

#### What is the difference between a `for` loop and a `foreach` loop?

The `foreach` loop has to be used on a collection that implements the `IEnumerable` interface. It then enumerates through all the elements 
of the collection from start to finish (given that the `break` keyword is not used), while a `for` loop is a more general loop, 
a collection is not needed, and the exact logic of enumeration must be provided to the `for` loop. E.g:

```C#
int[] numbers = {1, 2, 3, 4, 5};
foreach (int number in numbers) //every number is enumerated and printed
{
    Console.WriteLine(number);
}

for (int i = 0; i < numbers.Length; i += 2) //every number with odd index is enumerated and printed
{
    Console.WriteLine(numbers[i]);
}

```
<br>

#### What is a `while` loop?

A `while` loop is a control flow statement that allows code to be executed repeatedly based on a (boolean) condition. <br>
It can be thought of as a repeating `if` statement.<br><br>

#### What does the `yield` keyword do?

The `yield` keyword returns elements one element at a time from an enumerator block (for, foreach, while) as an `IEnumerable` collection.<br>
It uses requires less memory and less code than creating the IEnumerable before the enumerator and filling it in the enumerator, and returning after. 
<br><br>

#### How do you manually break out of a loop?

Using the `break` (`yield break`), `return`, `goto`, `throw` keywords.
<br><br>

#### What does the `var` keyword mean?

The `var` keyword (stands for variable) and is used as a wildcard to not having to specify exact variable type of the variable.
Withe the `var` keyword, the type is implicitly specified. It should be used with a well named variable.
<br><br>

#### What is the _primary constructor syntax_?

The primary constructor syntax is a feature supposedly introduced in C# 9.0 that provides a concise way to declare immutable types, like records
that was also introduced in C# 9.0. The properties of the class are initialized in the constructor without needing to declare them explicitly. <br>
Examples of not using and using primary constructor syntax:<br>
```C#
//prior to C# 9.0
public class Person()
{
    public string Name { get; init; }
    public int Age { get; init; }

    public Person(string name, int age)
    {
        Name = name;
        Age = age;
    }
}

//with primary constructor syntax this becomes:
public record Person(string Name, int Age);
```
<br>

#### What is the meaning of the `params` keyword? Where would you use it?

In C#, params is a keyword which is used to specify a parameter that takes variable number of arguments.
It is useful when we don't know the number of arguments prior. Only one params keyword is allowed and no
additional parameter is permitted after params keyword in a function declaration. For example: <br>
```C#
public int TotalMarks(params int[] list)  
{  
    int total = 0;  
    for (int i = 0; i < list.Length; i++)  
        total += list[i];  
    return total;  
}
//following method calls work properly:
int total3 = Students.TotalMarks(8, 9, 8);  
int[] marks = { 24, 22, 25, 21 };  
int total4 = Students.TotalMarks(marks);  
int total5 = Students.TotalMarks(92, 90, 95, 91, 98);  
```
<br>

#### What are _lambda expressions_? How are they used in C# development?

Lambda expressions in C# are similar to arrow functions in JavaScript. They are basically anonymous functions with less code.<br>
Expression lambda: `input => expression`, Statement Lambda: `input => { statements };` <br>
Examples:
```C#
List<int> numbers = new List<int>() {36, 71, 12, 15, 29, 18, 27, 17, 9, 34};
var square = numbers.Select(x => x * x);
List<int> divBy3 = numbers.FindAll(x => (x % 3) == 0);
var ordered = numbers.OrderBy(x => x);
```
<br>

#### What is the difference between a jagged array and a multidimensional array?

In a `multidimensional array`, each element in each dimension has the same, fixed size as the other elements in that dimension.<br>
In a `jagged array`, which is an array of arrays, each inner array can be of a different size. Examples:
<br>

```C#
public class ArrayHolder
{
    int[][] jaggedArray = { new int[] {1,2,3,4},
                            new int[] {5,6,7},
                            new int[] {8},
                            new int[] {9}
                          };

    int[,] multiDimArray = {{1,2,3,4},
                             {5,6,7,0},
                             {8,0,0,0},
                             {9,0,0,0}
                            };
}
```

## Type system

#### What are primitive types in C#? Give some examples.

Primitive types are int, object, short, char, float, double, char and bool. These types are used to build other
data types.
<br>

#### What is the difference between value types and reference types?

Variables of reference types store references to their data and multiple variables can have the same reference.
When the data on the reference object changes, since the variables only store the reference, the data in all
the variables changes. Reference types are stored on the heap. Reference types: class, interface, delegate,
record, dynamic, object, string. <br>
With value types, each variable has its own copy of the data and the operations on one variables does not
affect the data on the other variable (except when using `ref`, `in`, `out` parameter variables). Value
types are stored on the stack. Value types: integral numeric types, floating-point numeric types, bool, char.
<br>

#### What is a class in C#?

A class is a data structure that may contain data members (constants and fields), function members (methods,
properties, events, indexers, operators, instance constructors, finalizers and static constructors) and
nested types. Class types support inheritance, a mechanism whereby a derived class can extend and specialize
a base class. A class is also often referred to as a blueprint for an object where the variables and methods
of an object are defined.
<br>

#### What is a constructor?

A constructor in C# is a member of a class. It is a method in the class which gets executed when a class
variable is created (a class is instantiated). Usually we put the initialization code in the constructor.
The name of the constructor is always is the same name as the class. A C# constructor can be public or private. <br>

#### Is it possible to have multiple constructors in a class?

Yes. <br>

#### What are properties in C#?

A property is a class member through which reading (getting) and writing (setting) of a private field is possible.
Properties behave like public data members, but they implement special methods, called accessors (getter,
setter, init). Properties can be read-write, read-only or write-only. 
 <br>

#### Describe the different types of properties: read-only, init-only, and computed properties.

Read-only properties have to be set when an object is created, they may only be read after that, but not changed.<br>
Init-only properties do not have to be set when the object is created, so the object may be created with the default
constructor and the property set later, but it might be only set once.<br>
Computed properties are properties that may not only return a value of a member field, but can return any computed
combination of any of the private fields. For example FullName could return Firstname with LastName concatenated.
<br>

#### What is the difference between an auto-property and a property with a backing field?

With an auto-property a private backing field is auto-generated. If both have a getters and setters,
and the backing field is private, then they are equivalent.

#### What is an enum in C#?

Enum is a special class that represents a group of constants. By default the first item in an enum has the
value of 0. Enums should be used when there are values that aren't going to change. Enums provide an easy
way to assign specific values to variables, not letting to set a value outside of the defined ones.
<br>

#### Explain the difference between a class and a struct.

In summary, the main differences between classes and structures in C# are inheritance (class can, struct cannot),
reference type (class) vs value type (struct), default constructor, initialization, and size/performance (struct smaller, generally faster).
Classes are usually used for larger, more complex objects, while structures are used for smaller,
simpler objects that are used frequently and need to be passed around quickly. However, both classes and
structures have their own strengths and weaknesses, and the choice between them ultimately depends
on the specific requirements of the project.

A class is a user-defined blueprint or prototype from which objects are created.
Basically, a class combines the fields and methods(member function which define actions) into a single unit.

A structure is a collection of variables of different data types under a single unit.
It is almost similar to a class because both are user-defined data types and both hold a
bunch of different data types.
<br>

#### Explain the difference between a class and a record.

The main difference between class and record type in C# is that a record has the main purpose of
storing data, while a class defines responsibility. Records are immutable, while classes are not.
Simply put, a class is an OOP concept that wraps data with functionality, while a record represents
a set of data.<br>

#### What are interfaces? Why should we use them?

An interfaces defines a contract. Any class or struct that implements the interface must implement all
the members defined in the interfaces. By using interfaces, certain behavior can be enforced for classes
that implement them without the need for inheritance. Classes may implement multiple interfaces.<br>
It is good practice to make classes dependent of interfaces rather than implementations of interfaces,
so that the actual implementation may be changed without changing that class. In this regard interfaces
make easier to conform to both the Open/Close and the encapsulation principles.

#### What is inheritance?

Inheritance is a process in which one object acquires all the properties and behaviors of its parent object
automatically. The child class *can* reuse, extend or modify the attributes and behavior inherited. A class
that inherits from another class is called a **derived class**, the class from which other classes inherit
is called **base class**.

#### Is multiple inheritance allowed in C#?

No, the classes may only inherit from a single parent class. <br>

#### What is a static class?

A static class is the same as a non-static class, but a static class cannot be instantiated. Data members of
static classes are accessed via the class name and not the variable name of an instance of a class. A static
class can be used as a convenient container for sets of methods that just operate on input parameters and
do not have to get or set any internal instance fields. For example: System.Math class.
<br>

#### What are the dangers of using static classes? How can we avoid them?

Some characteristics of using static methods are the following:
- they cannot implement an interface,
- do not support polymorphism,
- cannot have instance members,
- no constructor,
- implicitly abstract,
- methods are slightly faster than methods of non-static classes.

Can easily violate the open-close principle, when a method would need a change at one point.<br>
A utility class filled up with multiple methods can break the single responsibility principle.<br>
<br>

#### What are _extension methods_?

An extension method is a feature in C# that lets us add functionality to a class, struct, enum, interface
or record without modifying their own code. They can be invoked as if they were actually a part of the
class/type they are extending. The `this` keyword must be used in the method's argument. For example
extending the Random class with an overloaded `NextDouble` method looks like this:

```C#
public static RandomExtension()
{
    public static double NextDouble(this Random random, double min, double max)
    {
        return min + random.NextDouble() * (max - min);
    }
}
```
We will be able to use this method on an instance of the Random class like this:
```C#
Random myRandom = new Random();
double myDouble = myRandom.NextDouble(10, 20);
//a random double between 10 and 20 will be generated whereas the normal "NextDouble" method
//takes no parameters and returns a number between 0.0 and 1.0 
```

<br>

#### What does the `virtual` keyword means in C#?

Using the `virtual` keyword for a method, property, indexer or event declaration allows us to override it
in a derived class. The implementation of a virtual member can be changed by an overriding member in a 
derived class. A non-virtual method cannot be overridden.
<br>

#### What is _overloading_ in C#?

Overloading refers to method overloading, which allows us to have methods with the same name, but a different
method signature. A signature is the number of, the order of and the types of arguments that the method takes.<br>
This way we can have methods with the same name that can take different types of arguments and still
perform a similar method on them.
<br>

#### What are nullable value types?

Nullability refers to the ability of a type to take `null` as a value. For value types, the type may take on
all values of its underlying value type and an additional `null` value. To make a type nullable, we use the
question mark `?` after the type name: `bool? myBool`. `myBool` can have the values of `true`, `false` and `null`.
<br>

#### What is the `IDisposable` interface used for?

The primary use of the `IDisposable` interface is to release unmanaged resources. Then the Garbage Collector 
releases the memory allocated to that object when it is no longer used. There are two ways to indicate that the
object is no longer used. One is to use a `using` statement, the other is invoking the IDisposable.Dispose
method.
<br>

#### What does the `using` keyword do? When would you use it?

The keyword has two uses. <br>
The first is called the `using directive` which imports types defined in other namespaces.<br>
The second is the `using statement` which defines a scope at the end of which an object
(that implements the `IDisposable` interface) is disposed. For example:

```C#
var numbers = new List<int>();
using (StreamReader reader = File.OpenText("numbers.txt"))
{
    string line;
    while ((line = reader.ReadLine()) is not null)
    {
        if (int.TryParse(line, out int number))
        {
            numbers.Add(number);
        }
    }
}
//StreamReader is disposed here (even if an exception occurs)
```

<br>

#### What is the difference between a using block and a using statement?

The `using` statement ensures the correct use of an IDisposable instance. See example above. When the control
leaves the block of the using statement, an acquired IDisposable instance is disposed. <br>
It's also possible to use `using declaration` that doesn't require braces:

```C#
static IEnumerable<int> LoadNumbers(string filePath)
{
    using StreamReader reader = File.OpenText(filePath);
    
    var numbers = new List<int>();
    string line;
    while ((line = reader.ReadLine()) is not null)
    {
        if (int.TryParse(line, out int number))
        {
            numbers.Add(number);
        }
    }
    return numbers;
}
```

When declared in a using declaration, a local variable is disposed at the end of the scope
in which it's declared. In the preceding example, disposal happens at the end of a method.
<br>

#### How is it possible to use functions as objects in C#?

With the use of "delegates".
Delegate variables are first-class objects and can be assigned to any matching method, or to the value null.
They store a method and its receiver without any parameters:

```C#
delegate void Notifier(string sender);  // Normal method signature with the keyword delegate

Notifier greetMe;                       // Delegate variable

void HowAreYou(string sender) {
    Console.WriteLine("How are you, " + sender + '?');
}

greetMe = new Notifier(HowAreYou);

greetMe("Anton");                       // Calls HowAreYou("Anton") and prints "How are you, Anton?"
```

Also see in the answer below.

#### What is a `delegate`?

A delegate is a form of type-safe function pointer used by the Common Language
Infrastructure (CLI). They specify a method and (optionally) an object to call the method on. They are used to
implement callbacks and event listeners. A delegate object encapsulates a reference to a method.<br>
In praxis it's possible to declare a function and then assign it to a variable then pass it around as any other
type. An example:
```C#
private int Square(int x)
{
    return x * x;
}

Func<int, int> square = Square;

// "square" is a delegate of type Func<int,int> that encapsulates a function.
//We can now invoke the Square function through the square delegate like this:
int squareOfTwo = square(2);

```
<br>

#### Describe the `Func<TResult>` delegate.

Encapsulates a method that has no parameters and returns a value of the type specified by the TResult parameter.
<br>

#### Describe the `Action` delegate.

Action is a delegate type defined in the System namespace. An Action type delegate is the same as Func
delegate except that the Action delegate doesn't return a value. In other words, an Action
delegate can be used with a method that has a void return type. <br>
Example:

```C#
//with delegate
public delegate void Print(int val);

static void ConsolePrint(int i)
{
    Console.WriteLine(i);
}

static void Main(string[] args)
{           
    Print prnt = ConsolePrint;
    prnt(10);
}

//with action
static void ConsolePrint(int i)
{
    Console.WriteLine(i);
}

static void Main(string[] args)
{
    Action<int> printActionDel = ConsolePrint;
    printActionDel(10);
}
```

<br>

#### What does the `abstract` keyword mean in C#? 

The abstract keyword enables to create classes and class members that are incomplete and must be implemented
in a derived class. The abstract modifier indicates that the thing being modified has a missing or
incomplete implementation. The abstract modifier can be used with classes, methods, properties, indexers,
and events.

<br>

#### What is an `abstract` class?

The abstract modifier in a class declaration indicates that a class is intended only
to be a base class of other classes, not instantiated on its own. Members marked as abstract must be
implemented by non-abstract classes that derive from the abstract class.
<br>

## Architecture

#### Explain the Single Responsibility Principle.

According to the SRP every class, module, or function in a program should only have
one responsibility/purpose. As a commonly used definition, "every class should have only one reason to change".
<br>

#### Explain the Interface Segregation Principle.

The interface segregation principle states that the interface of a program should be split
in a way that the user/client would only be able to access the necessary methods related to their needs.
<br>

#### What is _composition over inheritance_?

Composition over inheritance is oops concept that states classes should achieve polymorphic behavior
and reuse classes using composition. In composition one of the classes has multiple instances of other classes.
In composition the composite `has a` component relation. Prefer composition over inheritance as it is more
malleable / easy to modify later. <br>

Composition: "has a" type of relationship. A car "has an" engine, a person "has a" name, etc.<br>
Inheritance: "is a" type of relationship. A car "is a" vehicle, a person "is a" mammal, etc.
<br>

#### What is a model class?

Model classes are a fundamental part of the Model-View-Controller (MVC) architecture. They are used to define
data structure, behavior and interactions of a modeled entity in a software ssytem.
<br>

#### What is a service class?

A Service class/interface provides a way of a client to interact with some functionality in the application.
This is typically public, with some business meaning. For example, a TicketingService interface might
allow you to buyTicket, sellTicket and so on.
<br>

#### Explain the Open/Closed principle.

The open-closed principle states that software entities should be open for extension, but closed for modification. 
This implies that such entities – classes, functions, and so on – should be created in a way that their
core functionalities can be extended to other entities without altering the initial entity's source code.
<br>

#### Explain the Liskov Substitution Principle.

The Liskov substitution principle implies that when an instance of a class is passed/extended to another class,
the inheriting class should have a use case for all the properties and behavior of the inherited class. <br>

When a class is extended, if some of the properties of the initial class are not useful for the new class,
the Liskov substitution principle is violated. This means that inheritance should not happen here. <br>

Easier explained: Replacing the parent class with its child class in the code
should be possible without breaking the code.
<br>

#### Explain the Dependency Inversion Principle.

High-level modules should not import anything from low-level modules.  Both should depend on abstractions
(e.g., interfaces). Abstractions should not depend on details. Details (concrete implementations)
should depend on abstractions.
<br>

#### What do we mean by the Gang of Four (GoF) Design Patterns? Can you name some of these patterns?

Design Patterns is a book by the following four people: Erich Gamma, Richar Helm, Ralph Johnson, John Vlissides. <br>
They collected 23 software design patterns into this book. The patterns can be groped into 3 categories:<br>
- Creational patterns:
  - Abstract factory: groups object factories that have a common theme.
  - Builder constructs: complex objects by separating construction and representation.
  - **Factory method:** creates objects without specifying the exact class to create.
  - **Prototype:** creates objects by cloning an existing object.
  - **Singleton:** restricts object creation for a class to only one instance.
<br>
<br>
- Structural:
  - Adapter: allows classes with incompatible interfaces to work together by wrapping its own interface around that of an already existing class.
  - Bridge: decouples an abstraction from its implementation so that the two can vary independently.
  - Composite: composes zero-or-more similar objects so that they can be manipulated as one object.
  - Decorator: dynamically adds/overrides behaviour in an existing method of an object.
  - Facade: provides a simplified interface to a large body of code.
  - Flyweight: reduces the cost of creating and manipulating a large number of similar objects.
  - Proxy: provides a placeholder for another object to control access, reduce cost, and reduce complexity.
<br>
<br>
- Behavioral
  - Chain of responsibility: delegates commands to a chain of processing objects.
  - Command: creates objects that encapsulate actions and parameters.
  - Interpreter: implements a specialized language.
  - Iterator: accesses the elements of an object sequentially without exposing its underlying representation.
  - Mediator: allows loose coupling between classes by being the only class that has detailed knowledge of their methods.
  - Memento: provides the ability to restore an object to its previous state (undo).
  - **Observer:** is a publish/subscribe pattern, which allows a number of observer objects to see an event.
  - State: allows an object to alter its behavior when its internal state changes.
  - Strategy: allows one of a family of algorithms to be selected on-the-fly at runtime.
  - Template: method defines the skeleton of an algorithm as an abstract class, allowing its subclasses to provide concrete behavior.
  - Visitor: separates an algorithm from an object structure by moving the hierarchy of methods into one object.

<br>

#### What are the risks associated with using the GoF design patterns?

The reason these patterns were invented was in many cases related to the deficiencies of programming languages
at that time. As programming languages, and computational capacity have evolved, some of the design pattern
were used less and less frequently, if not even became completely obsolete.<br>

no design pattern will ever replace geniune thinking and problem solving. Many beginner developers,
armed with the knowledge of design patterns will go and try to fit a pattern, or sometimes even
multiple patterns to every problem they face. An important thing to note is that every pattern
introduces additional complexity to the application, so there is a cost associated with their usege.
As such, there should always be a cost-benefit analysis attached to the decision of introducing a pattern.<br>

This is the key to design patterns: to know when to use or not to use them. It's very easy to
fall into the trap of overengineering with them.

#### What do we mean by YAGNI?

You Aren't Gonna Need It.<br>
It is a principle which arose from extreme programming (XP) that states a programmer
should not add functionality until deemed necessary.<br>

Ron Jeffries, a co-founder of XP, explained the philosophy:
```
"Always implement things when you actually need them, never when you just foresee that you will need them."
```
John Carmack wrote:
```
"It is hard for less experienced developers to appreciate how rarely architecting for future
requirements / applications turns out net-positive."
```
<br>

#### What do we mean by SLAP?

Single Level of Abstraction Principle says that every method inside your codebase should deal with
concepts related to just one level of abstraction. <br>

For example, if a method builds and executes HTTP requests, it shouldn’t also process the resulting JSON.
These are different abstraction levels: one is about communication over HTTP and the other is
about specific data format and layout.
<br>

#### What do we mean by KISS?

Keep it simple, stupid.<br>
The KISS principle states that most systems work best if they are kept simple rather than made complicated;
therefore, simplicity should be a key goal in design, and unnecessary complexity should be avoided.
<br>

#### What is the Repository Pattern?

The gist of it: Create a wrapper around all of your data access logic with a database-agnostic interface,
so that you can defer commitment to a particular datastore.<br>
The main benefit here is that at any time it is possible to swap out the underlying data store by
implementing the same interface in a different repository while the business logic remains unchanged.
<br>

#### What is a CRUD interface?

CRUD apps are the user interface that we use to interact with databases through APIs.
It is a specific type of application that supports the four basic operations: Create, read, update, delete.
A CRUD interface should be able to handle these operations.


## Unit testing

#### Why is unit testing a good practice?

Because while writing the code, it is hard to think about all the edge cases, but while writing the test
the approach should be to break the code and that is most easily done with edge cases. Breaking and fixing the
code makes the developer more confident in the correct functioning of the code while making the code more robust. <br>
After the code is ready, good unit tests are there to help refactor the code and provide feedback on changes.
<br>

#### What is NUnit?

NUnit is an open-source unit-testing framework for all .Net Framework.
<br>

#### What is a parameterized test?

A parametrized test is a test that has variables in it, so the base test method can be reused and only
the parameter set must be written out in detail.
<br>

#### What options do you have in NUnit to create parameterized tests?

Either using TestCase, TestCaseSource, ValueSource or TestFixture attributes.
<br>

#### What is _mocking_?

Mocking means creating a fake version of an external or internal service that can stand in for the real one, helping your tests run more quickly and more reliably. When your implementation interacts with an object’s properties, rather than its function or behavior, a mock can be used.

Mocking is a process used in unit testing when the unit being tested has external dependencies.
The purpose of mocking is to isolate and focus on the code being tested and not on the behavior
or state of external dependencies.
<br>

#### What is the difference between _mocking_, _stubbing_ and _faking_?

Fake: a class that implements an interface but contains fixed data and no logic.
Simply returns "good" or "bad" data depending on the implementation.

Mock: a class that implements an interface and allows the ability to dynamically set the values
to return/exceptions to throw from particular methods and provides the ability to check if
particular methods have been called/not called.

Stub: Like a mock class, except that it doesn't provide the ability to verify that methods have been called/not called.

Mocks and stubs can be hand generated or generated by a mocking framework. Fake classes are generated by hand.<br>
Mocks can primarily be used to verify interactions between a class and their dependent classes.<br>
Stubs can be used after verifying the interactions, and now testing alternate paths through the code.<br>
Fake classes can be used to abstract out data dependencies or when mocks/stubs are too tedious to set up each time.


## Databases

#### What are relational databases? What are their advantages and disadvantages?

Relational databases are databases that make use of relational mathematics. A relational database is a collection of
information that organizes data in predefined relationships where data is stored in one of more tables ("relations")
of columns and rows. Relationships are logical connection between different tables.

A relational database (RDB) is a way of structuring information in tables, rows, and columns.
An RDB has the ability to establish links — or relationships – between information by joining tables,
which makes it easy to understand and gain insights about the relationship between various data points.

Advantages:
- categorized data,
- accuracy (no data duplication),
- ease of use,
- collaboration,
- security.

Disadvantages:
- rigid structure that needs planning,
- maintenance issues,
- inflexibility,
- lack of scalability.

<br>

#### How do you associate entities to each other in a relational database model?

In a relational database model, entities are associated with each other using relationships.
Relationships between entities are established by defining foreign keys in the tables that represent those entities.
<br>

#### What are tables in a relational database?

Tables are database objects that contain all the data in a database. In tables, data is logically
organized in a row-and-column format similar to a spreadsheet. Each row represents a unique record,
and each column represents a field in the record.
<br>

#### What is a _primary key_?

A primary key is a special relational database table column (or combination of columns) designated
to uniquely identify each table record. A table cannot have more than one primary key. It must be
unique for each row of data, cannot be null, every row must have a primary key value.
<br>

#### What is a _foreign key_?

A foreign key is a column in one table that refers to the primary key of another table.
The foreign key establishes a link between the two tables, indicating that the data in the
foreign key column of one table corresponds to the data in the primary key column of another table.

#### What does the SQL abbreviation stand for?

Structured Query Language.
<br>

#### What are some of the SQL database providers that you’ve heard of?

MySQL, Oracle, PostgreSQL, Microsoft SQL Server. <br>
Cloud: Amazon Web Services, Oracle, Google, IBM...
<br>

#### What are SQL data types? Are there any differences in data types between different SQL databases?

SQL data types define the type of data that can be stored in a database column. Different SQL data types are
used to represent different types of data.<br>

Data types can have different names in different databases. Even with the same name, some details might be
different. Some databases have their own specific data types.
<br>

#### What are _constraints_ in SQL?

Constraints are rules that are used ensure that only data that conforms these rules might be added to
a table. Examples: NOT NULL, UNIQUE, PRIMARY KEY, FOREIGN KEY, CHECK (+ condition), DEFAULT (def value on insert).
<br>

#### How can we program different SQL databases in C#?

All or most SQL databases use similar logic. They require a connection string, then a connection object.
Then a connection is opened and a command object is created and used to execute SQL statements against a
database. Then the result needs to be processed.
<br>

#### Which SQL statement is used to create tables? Describe the syntax briefly.

The CREATE TABLE statement is used to create tables in an SQL database.
```sql
CREATE TABLE table_name (
   column1 datatype [constraint],
   column2 datatype [constraint],
   ...
   columnN datatype [constraint]
);
```
<br>

#### Which SQL statement can be used to insert values? Describe the syntax briefly.

The INSERT statement.
```sql
INSERT INTO table_name (column1, column2, column3) VALUES (value1, value2, value3);
```
<br>

#### Which SQL statement can be used to update values? Describe the syntax briefly.

The UPDATE statement.
```sql
UPDATE table_name SET field1=value1, field2=value2 WHERE id=currentid;
```
<br>

#### Which SQL statement can be used to delete rows?. Describe the syntax briefly.

The DELETE statement.
```sql
DELETE FROM table_name WHERE id=currentid;
```
<br>

#### Which SQL statement can be used to create queries?. Describe the syntax briefly.

The SELECT statement.
```sql
SELECT column1, column2, column3 FROM table_name;
```
<br>

#### How can you join tables together in SQL? When should you do it?

With one of the JOIN statements (LEFT, RIGHT, INNER, FULL OUTER).<br>
It should be done when the required data needs to be combined from multiple tables.<br>
The common columns between these tables should be identified and used to perform the join.

#### What are aggregate functions? Could you give a few examples?

https://mode.com/sql-tutorial/sql-aggregate-functions/

Aggregate functions are functions that are invoked with certain keywords that aggregate data.
The following are aggregate functions:

- COUNT counts how many rows are in a particular column.
- SUM adds together all the values in a particular column.
- MIN and MAX return the lowest and highest values in a particular column, respectively.
- AVG calculates the average of a group of selected values.

#### What does GROUP BY do?

`GROUP BY` allows us to separate data into groups, which can be aggregated independently of one another. For example:

```SQL
SELECT year,
       COUNT(*) AS count
  FROM tutorial.aapl_historical_stock_price
 GROUP BY year
```

#### When would you use HAVING?

In situations where we want to filter aggregate columns. In that case the `WHERE` clause does not work, but we can use the `HAVING`. For example:

```SQL
SELECT year,
       month,
       MAX(high) AS month_high
  FROM tutorial.aapl_historical_stock_price
 GROUP BY year, month
HAVING MAX(high) > 400
 ORDER BY year, month
```

Query clause order:
1) SELECT
2) FROM
3) WHERE
4) GROUP BY
5) HAVING
6) ORDER BY

-What does a LEFT OUTER JOIN do and how does it differ from an INNER JOIN? Give an example for a result table for each JOIN type.

[label](https://mode.com/resources/images/intermediate/visual-join.png)

Outer joins are joins that return matched values and unmatched values from either or both tables. There are a few types of outer joins:
`LEFT JOIN` returns only unmatched rows from the left table, as well as matched rows in both tables.

-Can you insert multiple records with a single INSERT statement?

Yes, it is possible, by separating the bracketed data to be inserted with commas. For example:

```SQL
INSERT INTO 
	sales.promotions ( 
		promotion_name, discount, start_date, expired_date
	)
VALUES
	('2020 Summer Promotion',0.25,'20200601','20200901'),
	('2020 Fall Promotion',0.10,'20201001','20201101'),
	('2020 Winter Promotion', 0.25,'20201201','20210101');
```

#### When do you use the DISTINCT keyword?

When I want only unique values of a column to be listed.

#### What would you use the CASCADE keyword for?

https://www.scaler.com/topics/sql/cascade-in-sql/

CASCADE in SQL is used to simultaneously delete or update an entry from both the child and parent table. The keyword CASCADE is used as a conjunction while writing the query of ON DELETE or ON UPDATE. If the cascade keyword is added to a query written for the parent table, then both the parent and child tables change accordingly on the execution of the query.

Example:
```SQL

CREATE TABLE Class(
    Enrollment INT PRIMARY KEY,
    Student_Name VARCHAR(20),
    Email_id VARCHAR(20),
    State VARCHAR(20) 
    );

INSERT INTO Class VALUES
    (1, 'Rishab P', 'rishab@gmail.com', 'WB'),
    (2, 'Mayank G', 'mayank@gmail.com', 'JH'),
    (3, 'Rajat A', 'rajat@gmail.com', 'UP'),
    (4, 'Debojeet J', 'debojeet@gmail.com', 'WB'),
    (5, 'Soham M', 'soham@gmail.com', 'MH');

CREATE TABLE Mathematics(
    Enrollment INT,
    Student_Name varchar(20),
    Marks INT,
    PRIMARY KEY(Enrollment, Student_Name),
    FOREIGN KEY(Enrollment) REFERENCES Class(Enrollment) ON DELETE CASCADE ON UPDATE CASCADE
    );

INSERT INTO Mathematics VALUES
    (2, 'Mayank G', 86),
    (4, 'Debojeet J', 83),
    (1, 'Rishab P', 90);

CREATE TABLE Science(
    Enrollment INT,
    Student_Name varchar(20),
    Marks INT,
    PRIMARY KEY(Enrollment, Student_Name),
    FOREIGN KEY(Enrollment) REFERENCES Class(Enrollment) ON DELETE CASCADE ON UPDATE CASCADE
    );

INSERT INTO Science VALUES
    (1, 'Rishab P', 85),
    (5, 'Soham M', 95),
    (3, 'Rajat A', 87);

DELETE FROM Class
WHERE Student_Name = "Rishab P";

/* As we have only deleted the entry from the Class table, it will automatically reflect the changes in the other two tables also. */
/* Rishab P will be removed from the other tables also */

UPDATE Class
SET Enrollment = 1 WHERE Enrollment = 5;

/* We have only updated the entry from the Class table, but we can verify that it will also automatically reflect the changes in the other tables. */
/* Soham M's Enrollment will be = 1 in all the tables */

```
Summary:

1. CASCADE in MySQL helps to update/delete the entry from the parent and child table simultaneously.
2. ON UPDATE CASCADE and ON DELETE CASCADE is written while creating the child table.
3. CASCADE helps in reducing the human effort in updating or deleting an entry from the database.


#### What are database transactions?

https://en.wikipedia.org/wiki/Database_transaction
https://www.youtube.com/watch?v=wHUOeXbZCYA

A database transaction (tx) is a unit of work, sometimes made up of multiple operations. One example is a transfer from one bank account to another: the complete transaction requires subtracting the amount to be transferred from one account and adding that same amount to the other.

All operations within a transaction has to either be succeed together of fail together.

A database transaction, by definition, must be ACID:
- **a**tomic (it must either be complete in its entirety or have no effect whatsoever),
- **c**onsistent (it must conform to existing constraints in the database),
- **i**solated (it must not affect other transactions) and
- **d**urable (it must get written to persistent storage, no data loss).

https://www.postgresql.org/docs/current/tutorial-transactions.html

If we have multiple operations, grouping them into a transaction gives us a guarantee that either all of the updates happen or none. A transaction is said to be atomic: from the point of view of other transactions, it either happens completely or not at all.

In PostgreSQL, a transaction is set up by surrounding the SQL commands of the transaction with BEGIN and COMMIT commands. So our banking transaction would actually look like:

```SQL
BEGIN;
UPDATE accounts SET balance = balance - 100.00
    WHERE name = 'Alice';
UPDATE branches SET balance = balance - 100.00
    WHERE name = (SELECT branch_name FROM accounts WHERE name = 'Alice');
UPDATE accounts SET balance = balance + 100.00
    WHERE name = 'Bob';
UPDATE branches SET balance = balance + 100.00
    WHERE name = (SELECT branch_name FROM accounts WHERE name = 'Bob');
COMMIT;
```

If, partway through the transaction, we decide we do not want to commit (perhaps we just noticed that Alice's balance went negative), we can issue the command ROLLBACK instead of COMMIT, and all our updates so far will be canceled.

PostgreSQL actually treats every SQL statement as being executed within a transaction. If you do not issue a BEGIN command, then each individual statement has an implicit BEGIN and (if successful) COMMIT wrapped around it. A group of statements surrounded by BEGIN and COMMIT is sometimes called a transaction block.

#### What is an inner/nested query?

https://www.tutorialspoint.com/sql/sql-sub-queries.htm

A Subquery or Inner query or a Nested query is a query within another SQL query and embedded within clauses, most commonly in the WHERE clause. It is used to return data from a table, and this data will be used in the main query as a condition to further restrict the data to be retrieved.

Subqueries can be used with the SELECT, INSERT, UPDATE, and DELETE statements along with the operators like =, <, >, >=, <=, IN, BETWEEN, etc.

Example:

```
+----+----------+-----+-----------+----------+
| ID | NAME     | AGE | ADDRESS   | SALARY   |
+----+----------+-----+-----------+----------+
|  1 | Ramesh   |  35 | Ahmedabad |  2000.00 |
|  2 | Khilan   |  25 | Delhi     |  1500.00 |
|  3 | kaushik  |  23 | Kota      |  2000.00 |
|  4 | Chaitali |  25 | Mumbai    |  6500.00 |
|  5 | Hardik   |  27 | Bhopal    |  8500.00 |
|  6 | Komal    |  22 | MP        |  4500.00 |
|  7 | Muffy    |  24 | Indore    | 10000.00 |
+----+----------+-----+-----------+----------+
```


```SQL
SELECT * 
   FROM CUSTOMERS 
   WHERE ID IN (SELECT ID 
      FROM CUSTOMERS 
      WHERE SALARY > 4500) ;
```

Rules:
- Subqueries must be enclosed within parentheses.
- A subquery can have only one column in the SELECT clause, unless multiple columns are in the main query for the subquery to compare its selected columns.
- An ORDER BY command cannot be used in a subquery, although the main query can use an ORDER BY. The GROUP BY command can be used to perform the same function as the ORDER BY in a subquery.
- Subqueries that return more than one row can only be used with multiple value operators such as the IN operator.
- The SELECT list cannot include any references to values that evaluate to a BLOB, ARRAY, CLOB, or NCLOB.
- A subquery cannot be immediately enclosed in a set function.
- The BETWEEN operator cannot be used with a subquery. However, the BETWEEN operator can be used within the subquery.

#### What is a database index?

https://www.sqlshack.com/sql-index-overview-and-strategy/

A SQL index is used to retrieve data from a database very fast. Indexing a table or view is, without a doubt, one of the best ways to improve the performance of queries and applications.
A SQL index is a quick lookup table for finding records users need to search frequently. An index is small, fast, and optimized for quick lookups. It is very useful for connecting the relational tables and searching large tables.

https://www.codecademy.com/article/sql-indexes

Indexes are a powerful tool used in the background of a database to speed up querying. Indexes power queries by providing a method to quickly lookup the requested data. Simply put, an index is a pointer to data in a table. An index in a database is very similar to an index in the back of a book.

#### What entity/table relationship types do you know?

https://www.tutorialsteacher.com/sqlserver/tables-relations

One-to-one relation: One record of the first table will be linked to zero or one record of another table.
One-to-many relation: One-to-Many is the most commonly used relationship among tables. A single record from one table can be linked to zero or more rows in another table.
Many-to-many relation: Many-to-Many relationship lets you relate each row in one table to many rows in another table and vice versa. As an example, an employee in the `Employee` table can have many skills from the `EmployeeSkill` table and also, one skill can be associated with one or more employees.

#### What do you know about database normalization?

https://learn.microsoft.com/en-us/office/troubleshoot/access/database-normalization-description

Normalization is the process of organizing data in a database. This includes creating tables and establishing relationships between those tables according to rules designed both to protect the data and to make the database more flexible by eliminating redundancy and inconsistent dependency.

Redundant data wastes disk space and creates maintenance problems. If data that exists in more than one place must be changed, the data must be changed in exactly the same way in all locations. A customer address change is much easier to implement if that data is stored only in the Customers table and nowhere else in the database.

There are a few rules for database normalization. Each rule is called a "normal form." If the first rule is observed, the database is said to be in "first normal form." If the first three rules are observed, the database is considered to be in "third normal form." Although other levels of normalization are possible, third normal form is considered the highest level necessary for most applications.

**First normal form**
-Eliminate repeating groups in individual tables.
-Create a separate table for each set of related data.
-Identify each set of related data with a primary key.

Do not use multiple fields in a single table to store similar data. For example, to track an inventory item that may come from two possible sources, an inventory record may contain fields for Vendor Code 1 and Vendor Code 2.

What happens when you add a third vendor? Adding a field is not the answer; it requires program and table modifications and does not smoothly accommodate a dynamic number of vendors. Instead, place all vendor information in a separate table called Vendors, then link inventory to vendors with an item number key, or vendors to inventory with a vendor code key.

**Second normal form**
- Create separate tables for sets of values that apply to multiple records.
- Relate these tables with a foreign key.

Records should not depend on anything other than a table's primary key (a compound key, if necessary). For example, consider a customer's address in an accounting system. The address is needed by the Customers table, but also by the Orders, Shipping, Invoices, Accounts Receivable, and Collections tables. Instead of storing the customer's address as a separate entry in each of these tables, store it in one place, either in the Customers table or in a separate Addresses table.

**Third normal form**
- Eliminate fields that do not depend on the key.

Values in a record that are not part of that record's key do not belong in the table. In general, anytime the contents of a group of fields may apply to more than a single record in the table, consider placing those fields in a separate table.

For example, in an Employee Recruitment table, a candidate's university name and address may be included. But you need a complete list of universities for group mailings. If university information is stored in the Candidates table, there is no way to list universities with no current candidates. Create a separate Universities table and link it to the Candidates table with a university code key.

#### What is SQL injection?

https://en.wikipedia.org/wiki/SQL_injection

In computing, SQL injection is a code injection technique used to attack data-driven applications, in which **malicious SQL statements are inserted into an entry field for execution** (e.g. to dump the database contents to the attacker). SQL injection must exploit a security vulnerability in an application's software, for example, when user input is either incorrectly filtered for string literal escape characters embedded in SQL statements or user input is not strongly typed and unexpectedly executed. SQL injection is mostly known as an attack vector for websites but can be used to attack any type of SQL database.